var e=Object.defineProperty,s=(s,r,t)=>(((s,r,t)=>{r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t})(s,"symbol"!=typeof r?r+"":r,t),t);import{x as r,y as t,z as o}from"./index-059ba50b.js";const n=(e,s)=>{const r=e.__vccOpts||e;for(const[t,o]of s)r[t]=o;return r};const u=new class{constructor(){s(this,"count",0),s(this,"baseOptions",{url:"/h5api/",data:{},header:{accessToken:""},method:"GET",timeout:1e4})}request(e){return this.count++,r({title:"努力加载中"}),new Promise(((s,n)=>{const u={...this.baseOptions,...e,url:this.baseOptions.url+e.url};t({...u,success:e=>{if(200!==e.statusCode)throw new Error("唉，数据拉取失败!");s(e.data)},fail:e=>{r({title:e.errMsg}),n(e)},complete:()=>{this.count--,!this.count&&o()}})}))}},a={queryBanner:e=>u.request({url:"resources/db/banner.json"}),queryFirendChain:e=>u.request({url:"resources/db/friendChain.json"}),queryCatetory:e=>u.request({url:"resources/db/demo.json"})};export{a as A,n as _};
