## 事件循环

js是单线程任务，异步和多线程是通过`Event Loop`机制实现的。
由调用栈、消息队列(宏任务)、微任务队列组成。执行时会从全局栈中一行一行的执行，
遇到函数执行会压入调用栈中，函数执行返回后从栈中弹出。遇到fatch、事件回调、setTimeOut、setInterval
会加入到消息队列中，在调用栈清空的时候执行。遇到promise、async、await会加入到微任务队列中，在调用栈清空的时候立即执行，
处理期间加入的微任务会一同执行。

微任务的优先级高于宏任务。

## promise

三种状态：`pending`(进行中)、`resolved`(成功)、`rejected`(失败)。

当promse调用后，会以进行中的状态开始，最终会以成功或失败的状态结束，并在完成时调用相应的回调函数(then/catch)。
接收`resolve、reject`两个回调，前者触发成功，后者触发失败并改变promise转态，且以第一次触发的为准。`throw`会触发`reject`回调。

## Map&Set

都是ES6新增的一种的数据结构。

Map类似于对象，是一个键值对的集合，任何类型都可以作为key，且是有序的。

Set类型于数组，键和值相同，且元素是唯一的。接收一个数组返回一个去重的数组。

## 缩小最小字体的方法

浏览器可渲染的最小字号为 12px。

1. `transform: scale(0.5)`

  - 单独用标签包裹文字进行缩放。
  - 将整个父元素尺寸放大2倍再进行缩放。

2. SVG矢量图设置`text`

```html
  <!-- 
    可以设置1-12px任意字号
    y：字号大小
    不支持多行文本
  -->
  <svg>
    <text x="" y="10">10px</text>
  </svg>
```

## 取消ajax请求

原生请求XHR使用对象的`abort`方法。

`axios`通过实例下的`CancelToken.source`方法创建一个取消请求的实例，
然后通过实例的`cancel`方法取消请求。

通过定时器`setTimeout`和`clearTimeout`取消ajax请求。

```js
  let timer = nll
  clearTimeout(timer)
  timer = setTimeout(() => {
    // 发送请求
  }, 800)
```